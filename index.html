<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>WebUSB Serial Data Capture</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css"
		/>
		<style>
			pre {
				height: 500px;
				background-color: #f8f9fa;
				padding: 2px;
				overflow: scroll;
			}
		</style>
	</head>
	<body>
		<noscript>You need to enable JavaScript to run this app.</noscript>
		<nav class="navbar bg-body-tertiary">
			<div class="container-fluid">
				<a class="navbar-brand" href="#">Web Serial Data Capture</a>
			</div>
		</nav>

		<div class="container-fluid mt-3">
			<div class="row">
				<div class="col-6">
					<div class="input-group input-group-sm mb-3">
						<input type="number" class="form-control" value="9600" id="baud" />
						<button
							class="btn btn-outline-danger"
							type="button"
							id="disconnect"
						>
							Disconnect
						</button>
						<button class="btn btn-outline-primary" type="button" id="connect">
							Connect
						</button>
					</div>
					<div class="input-group input-group-sm mb-3">
						<input
							type="text"
							class="form-control"
							value="hello"
							id="message"
						/>
						<button
							class="btn btn-outline-primary"
							type="button"
							id="send"
							disabled
						>
							Send Message
						</button>
					</div>
					<div class="input-group input-group-sm">
						<button class="btn btn-outline-primary" id="start" disabled>
							Start
						</button>
						<button class="btn btn-outline-primary" id="stop" disabled>
							Stop
						</button>
						<button class="btn btn-outline-primary" id="clear">Clear</button>
						<button class="btn btn-outline-primary" id="download-data">
							Download Data
						</button>
						<button class="btn btn-outline-primary" id="download-messages">
							Download Messages
						</button>
					</div>
					<pre class="mt-2" id="log"></pre>
				</div>
				<div class="col-6">
					<div class="input-group input-group-sm mb-3">
						<label class="input-group-text">X Axis</label>
						<select class="form-select" id="x-axis-select">
							<option selected value="-1">Index</option>
							<option value="0">Column 0</option>
							<option value="1">Column 1</option>
							<option value="2">Column 2</option>
							<option value="3">Column 3</option>
							<option value="4">Column 4</option>
							<option value="5">Column 5</option>
						</select>
						<label class="input-group-text">Y Axis</label>
						<select class="form-select" id="y-axis-select" multiple size="5">
							<option selected value="0">Column 0</option>
							<option value="1">Column 1</option>
							<option value="2">Column 2</option>
							<option value="3">Column 3</option>
							<option value="4">Column 4</option>
							<option value="5">Column 5</option>
						</select>
						<button class="btn btn-outline-primary" id="refresh">
							Refresh
						</button>
					</div>
					<div class="form-check form-switch">
						<input
							class="form-check-input"
							type="checkbox"
							role="switch"
							id="live"
						/>
						<label class="form-check-label">Live Refresh (1 sec)</label>
					</div>
					<div id="plot"></div>
				</div>
			</div>
			<hr />
			<p class="text-center">
				Made with <i class="bi bi-heart-fill"></i> and
				<i class="bi bi-cup-hot-fill"></i>. If you like the app please
				<i class="bi bi-star-fill"></i> on
				<a href="https://github.com/jamesgopsill/web-serial-data-capture"
					><i class="bi bi-github"></i
				></a>
				and/or
				<a href="https://github.com/sponsors/jamesgopsill">sponsor</a> the
				developers to support future development.
			</p>
		</div>
		<script defer type="module" src="/src/index.ts"></script>
	</body>
</html>
